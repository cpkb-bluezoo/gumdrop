# OAuth 2.0 Configuration for Servlet Authentication Example
# 
# This file configures the OAuth 2.0 integration for token validation
# and authorization. Update these values to match your OAuth provider.

# =============================================================================
# OAuth 2.0 Authorization Server Configuration
# =============================================================================

# Base URL of your OAuth 2.0 authorization server
# Examples:
#   Keycloak: https://keycloak.example.com/auth/realms/myrealm
#   Auth0: https://yourapp.auth0.com
#   Okta: https://dev-123456.okta.com/oauth2/default
oauth.authorization.server.url=https://your-auth-server.com

# OAuth 2.0 Client Credentials for token introspection
# These should be for a confidential client with introspection privileges
oauth.client.id=your-client-id
oauth.client.secret=your-client-secret

# Token introspection endpoint (RFC 7662)
# This is relative to the authorization server URL
# Standard path is /oauth/introspect, but providers may vary:
#   Keycloak: /protocol/openid-connect/token/introspect
#   Auth0: /oauth/introspect
#   Okta: /v1/introspect
oauth.token.introspection.endpoint=/oauth/introspect

# =============================================================================
# Role and Scope Mapping Configuration
# =============================================================================

# Map OAuth 2.0 scopes to servlet security roles
# Format: oauth.scope.mapping.ROLE=scope1,scope2,scope3
# 
# Users must have at least one of the listed scopes to be granted the role.
# Multiple scopes can be specified as comma-separated values.

# Basic user role - users with read or write access
oauth.scope.mapping.user=read,write,profile

# Administrative role - users with admin privileges  
oauth.scope.mapping.admin=admin

# Moderator role - users who can moderate content
oauth.scope.mapping.moderator=moderate,delete

# =============================================================================
# Advanced Configuration
# =============================================================================

# HTTP client timeout for OAuth server calls (milliseconds)
# Default: 5000 (5 seconds)
oauth.http.timeout=5000

# Enable caching of token introspection results (true/false)
# Caching improves performance but may delay revocation detection
# Default: false (no caching for security)
oauth.cache.enabled=false

# Cache TTL in seconds if caching is enabled
# Should be much shorter than your token lifetime
# Default: 60 seconds
oauth.cache.ttl=60

# Maximum cache size (number of entries)
# Default: 1000
oauth.cache.max.size=1000

# =============================================================================
# Security and Logging Configuration  
# =============================================================================

# Log level for OAuth operations (FINE, INFO, WARNING, SEVERE)
# FINE will log detailed token validation information
# Default: INFO
oauth.log.level=INFO

# Whether to log successful authentications (true/false)
# Useful for audit trails but may be verbose
# Default: false  
oauth.log.success=false

# Whether to log failed authentications (true/false)
# Recommended for security monitoring
# Default: true
oauth.log.failures=true

# Validate SSL certificates when connecting to OAuth server (true/false)
# Should always be true in production!
# Set to false only for development with self-signed certificates
# Default: true
oauth.ssl.validate=true

# =============================================================================
# Provider-Specific Examples
# =============================================================================

# Uncomment and modify one of these sections for your OAuth provider:

# --- Keycloak Example ---
# oauth.authorization.server.url=https://keycloak.example.com/auth/realms/myapp
# oauth.client.id=webapp-client
# oauth.client.secret=12345678-1234-1234-1234-123456789012
# oauth.token.introspection.endpoint=/protocol/openid-connect/token/introspect

# --- Auth0 Example ---
# oauth.authorization.server.url=https://yourapp.auth0.com
# oauth.client.id=AbC123dEf456GhI789jKl
# oauth.client.secret=your-auth0-client-secret-here
# oauth.token.introspection.endpoint=/oauth/introspect

# --- Okta Example ---
# oauth.authorization.server.url=https://dev-123456.okta.com/oauth2/default
# oauth.client.id=0ab12cd34e56fg7h8i9j
# oauth.client.secret=AB1cd2EF3gh4IJ5kl6MN7op8QR9st0UV1wx2YZ3a
# oauth.token.introspection.endpoint=/v1/introspect

# --- Custom OAuth Server Example ---
# oauth.authorization.server.url=https://api.yourcompany.com/oauth
# oauth.client.id=webapp-prod
# oauth.client.secret=prod-secret-key-here
# oauth.token.introspection.endpoint=/v2/introspect

# =============================================================================
# Environment Variable Overrides
# =============================================================================
# 
# You can override any property using environment variables by converting
# dots to underscores and uppercasing. For example:
#
# oauth.client.id -> OAUTH_CLIENT_ID
# oauth.client.secret -> OAUTH_CLIENT_SECRET
# oauth.authorization.server.url -> OAUTH_AUTHORIZATION_SERVER_URL
#
# This allows you to keep secrets out of configuration files:
#
# export OAUTH_CLIENT_SECRET="your-secret-here"
# java -jar your-app.jar
