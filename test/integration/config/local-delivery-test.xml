<?xml version='1.0' standalone='yes'?>
<!--
  Local Delivery Integration Test Configuration
  
  Tests the LocalDeliveryHandler with mbox mailboxes.
  Delivers mail for testlocal.example domain to local mailboxes.
-->
<gumdrop>

  <!-- Mbox mailbox factory for local delivery -->
  <mailbox-factory id="mailboxFactory" class="org.bluezoo.gumdrop.mailbox.mbox.MboxMailboxFactory">
    <property name="baseDirectory">test/integration/mailbox/local-delivery</property>
  </mailbox-factory>

  <!-- SMTP local delivery service -->
  <service id="smtpService" class="org.bluezoo.gumdrop.smtp.LocalDeliveryService">
    <property name="mailboxFactory" ref="mailboxFactory"/>
    <property name="localDomain">testlocal.example</property>
    <property name="hostname">localhost</property>
    <listener class="org.bluezoo.gumdrop.smtp.SMTPListener"
              port="12698" addresses="127.0.0.1"/>
  </service>

</gumdrop>
