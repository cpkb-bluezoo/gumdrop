<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sat Jan 10 08:53:36 GMT 2026 -->
<title>LineBasedConnection (Gumdrop API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2026-01-10">
<meta name="description" content="declaration: package: org.bluezoo.gumdrop, class: LineBasedConnection">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>Gumdrop</b></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/LineBasedConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.bluezoo.gumdrop</a></div>
<h1 title="Class LineBasedConnection" class="title">Class LineBasedConnection</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="Connection.html" title="class in org.bluezoo.gumdrop">org.bluezoo.gumdrop.Connection</a>
<div class="inheritance">org.bluezoo.gumdrop.LineBasedConnection</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="ftp/FTPConnection.html" title="class in org.bluezoo.gumdrop.ftp">FTPConnection</a></code>, <code><a href="http/HTTPConnection.html" title="class in org.bluezoo.gumdrop.http">HTTPConnection</a></code>, <code><a href="imap/IMAPConnection.html" title="class in org.bluezoo.gumdrop.imap">IMAPConnection</a></code>, <code><a href="pop3/POP3Connection.html" title="class in org.bluezoo.gumdrop.pop3">POP3Connection</a></code>, <code><a href="smtp/SMTPConnection.html" title="class in org.bluezoo.gumdrop.smtp">SMTPConnection</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">LineBasedConnection</span>
<span class="extends-implements">extends <a href="Connection.html" title="class in org.bluezoo.gumdrop">Connection</a></span></div>
<div class="block">Abstract base class for line-based TCP protocol handlers.

 <p>This class provides a push-parser mechanism for protocols that operate
 on CRLF-terminated lines, such as HTTP/1.x headers, SMTP commands, POP3
 commands, and IMAP commands. It extends <a href="Connection.html" title="class in org.bluezoo.gumdrop"><code>Connection</code></a> and provides
 the <a href="#receiveLine(java.nio.ByteBuffer)"><code>receiveLine(ByteBuffer)</code></a> method for parsing complete lines
 from incoming data.

 <h3 id="buffer-management-contract-heading">Buffer Management Contract</h3>
 <p>The <a href="#receiveLine(java.nio.ByteBuffer)"><code>receiveLine(ByteBuffer)</code></a> method operates on standard
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link"><code>ByteBuffer</code></a> with a non-blocking stream contract:
 <ul>
   <li>The caller provides a buffer in read mode (ready for get operations)</li>
   <li>The parser consumes as many complete CRLF-terminated lines as possible</li>
   <li>For each complete line, <a href="#lineReceived(java.nio.ByteBuffer)"><code>lineReceived(ByteBuffer)</code></a> is called
       with a buffer slice containing the line including its CRLF terminator</li>
   <li>After <a href="#receiveLine(java.nio.ByteBuffer)"><code>receiveLine(ByteBuffer)</code></a> returns, the buffer's position
       indicates where unconsumed data begins</li>
   <li>If there is unconsumed data (partial line), the caller MUST call
       <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html#compact--" title="class or interface in java.nio" class="external-link"><code>ByteBuffer.compact()</code></a> before reading more data into the buffer</li>
 </ul>

 <h3 id="state-transitions-heading">State Transitions</h3>
 <p>Some protocols (SMTP, IMAP) may transition from line-based command mode
 to a different mode (e.g., receiving message data) after processing a command.
 Subclasses can override <a href="#continueLineProcessing()"><code>continueLineProcessing()</code></a> to return false
 when the protocol transitions out of line-based mode. This causes
 <code>receiveLine()</code> to stop processing and return, leaving unconsumed
 data in the buffer for the caller to handle appropriately.

 <h3 id="typical-usage-pattern-heading">Typical Usage Pattern</h3>
 <p>Subclasses override <a href="Connection.html#receive(java.nio.ByteBuffer)"><code>Connection.receive(ByteBuffer)</code></a> to check state and
 delegate to the appropriate handler:
 <pre>
 public void receive(ByteBuffer data) {
     if (receivingMessageData()) {
         // Handle non-line data (e.g., message body)
         receiveMessageData(data);
     } else {
         // Line-based command mode
         receiveLine(data);
         // Check if state changed during line processing
         if (receivingMessageData() &amp;&amp; data.hasRemaining()) {
             receiveMessageData(data);
         }
     }
 }

 protected void lineReceived(ByteBuffer line) {
     // Process the complete line including CRLF
     processCommand(line);
 }

 protected boolean continueLineProcessing() {
     // Return false when transitioning to message data mode
     return !receivingMessageData();
 }
 </pre></div>
<dl class="notes">
<dt>Author:</dt>
<dd><a href='mailto:dog@gnu.org'>Chris Burdess</a></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Connection.html" title="class in org.bluezoo.gumdrop"><code>Connection</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.bluezoo.gumdrop.ChannelHandler">Nested classes/interfaces inherited from interface&nbsp;org.bluezoo.gumdrop.<a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></h2>
<code><a href="ChannelHandler.Type.html" title="enum in org.bluezoo.gumdrop">ChannelHandler.Type</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.bluezoo.gumdrop.Connection">Fields inherited from class&nbsp;org.bluezoo.gumdrop.<a href="Connection.html" title="class in org.bluezoo.gumdrop">Connection</a></h3>
<code><a href="Connection.html#bufferSize">bufferSize</a>, <a href="Connection.html#certificates">certificates</a>, <a href="Connection.html#channel">channel</a>, <a href="Connection.html#cipherSuite">cipherSuite</a>, <a href="Connection.html#connector">connector</a>, <a href="Connection.html#engine">engine</a>, <a href="Connection.html#keySize">keySize</a>, <a href="Connection.html#secure">secure</a>, <a href="Connection.html#trace">trace</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">LineBasedConnection</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for an unencrypted line-based connection.</div>
</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(javax.net.ssl.SSLEngine,boolean)" class="member-name-link">LineBasedConnection</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLEngine.html" title="class or interface in javax.net.ssl" class="external-link">SSLEngine</a>&nbsp;engine,
 boolean&nbsp;secure)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor for a line-based connection with optional SSL.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#continueLineProcessing()" class="member-name-link">continueLineProcessing</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called after each line is processed to determine if line-based
 processing should continue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#lineReceived(java.nio.ByteBuffer)" class="member-name-link">lineReceived</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;line)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Called when a complete CRLF-terminated line has been received.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receiveLine(java.nio.ByteBuffer)" class="member-name-link">receiveLine</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Parses CRLF-terminated lines from the buffer and calls
 <a href="#lineReceived(java.nio.ByteBuffer)"><code>lineReceived(ByteBuffer)</code></a> for each complete line.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.bluezoo.gumdrop.Connection">Methods inherited from class&nbsp;org.bluezoo.gumdrop.<a href="Connection.html" title="class in org.bluezoo.gumdrop">Connection</a></h3>
<code><a href="Connection.html#close()">close</a>, <a href="Connection.html#connected()">connected</a>, <a href="Connection.html#createConnectionInfo()">createConnectionInfo</a>, <a href="Connection.html#createTLSInfo()">createTLSInfo</a>, <a href="Connection.html#disconnected()">disconnected</a>, <a href="Connection.html#endTrace()">endTrace</a>, <a href="Connection.html#finishConnectFailed(java.io.IOException)">finishConnectFailed</a>, <a href="Connection.html#getChannelType()">getChannelType</a>, <a href="Connection.html#getCipherSuite()">getCipherSuite</a>, <a href="Connection.html#getIdleTimeMs()">getIdleTimeMs</a>, <a href="Connection.html#getKeySize()">getKeySize</a>, <a href="Connection.html#getLocalSocketAddress()">getLocalSocketAddress</a>, <a href="Connection.html#getPeerCertificates()">getPeerCertificates</a>, <a href="Connection.html#getRemoteAddress()">getRemoteAddress</a>, <a href="Connection.html#getRemoteSocketAddress()">getRemoteSocketAddress</a>, <a href="Connection.html#getSelectionKey()">getSelectionKey</a>, <a href="Connection.html#getSelectorLoop()">getSelectorLoop</a>, <a href="Connection.html#getTelemetryConfig()">getTelemetryConfig</a>, <a href="Connection.html#getTimestampConnected()">getTimestampConnected</a>, <a href="Connection.html#getTimestampCreated()">getTimestampCreated</a>, <a href="Connection.html#getTimestampLastActivity()">getTimestampLastActivity</a>, <a href="Connection.html#getTrace()">getTrace</a>, <a href="Connection.html#handshakeComplete(java.lang.String)">handshakeComplete</a>, <a href="Connection.html#hasTelemetry()">hasTelemetry</a>, <a href="Connection.html#init()">init</a>, <a href="Connection.html#initializeSSLState()">initializeSSLState</a>, <a href="Connection.html#initiateClientTLSHandshake()">initiateClientTLSHandshake</a>, <a href="Connection.html#initTrace(java.lang.String)">initTrace</a>, <a href="Connection.html#initTraceFromTraceparent(java.lang.String,java.lang.String)">initTraceFromTraceparent</a>, <a href="Connection.html#isClosing()">isClosing</a>, <a href="Connection.html#isOpen()">isOpen</a>, <a href="Connection.html#isSecure()">isSecure</a>, <a href="Connection.html#isTelemetryEnabled()">isTelemetryEnabled</a>, <a href="Connection.html#onApplicationData(java.nio.ByteBuffer)">onApplicationData</a>, <a href="Connection.html#onClosed()">onClosed</a>, <a href="Connection.html#onHandshakeComplete(java.lang.String)">onHandshakeComplete</a>, <a href="Connection.html#receive(java.nio.ByteBuffer)">receive</a>, <a href="Connection.html#send(java.nio.ByteBuffer)">send</a>, <a href="Connection.html#setSelectionKey(java.nio.channels.SelectionKey)">setSelectionKey</a>, <a href="Connection.html#setSelectorLoop(org.bluezoo.gumdrop.SelectorLoop)">setSelectorLoop</a>, <a href="Connection.html#setSendCallback(org.bluezoo.gumdrop.SendCallback)">setSendCallback</a>, <a href="Connection.html#setTrace(org.bluezoo.gumdrop.telemetry.Trace)">setTrace</a>, <a href="Connection.html#toASCIIString(java.nio.ByteBuffer)">toASCIIString</a>, <a href="Connection.html#toString(java.nio.ByteBuffer)">toString</a>, <a href="Connection.html#updateLastActivity()">updateLastActivity</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.bluezoo.gumdrop.ChannelHandler">Methods inherited from interface&nbsp;org.bluezoo.gumdrop.<a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></h3>
<code><a href="ChannelHandler.html#scheduleTimer(long,java.lang.Runnable)">scheduleTimer</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>LineBasedConnection</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">LineBasedConnection</span>()</div>
<div class="block">Constructor for an unencrypted line-based connection.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(javax.net.ssl.SSLEngine,boolean)">
<h3>LineBasedConnection</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">LineBasedConnection</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLEngine.html" title="class or interface in javax.net.ssl" class="external-link">SSLEngine</a>&nbsp;engine,
 boolean&nbsp;secure)</span></div>
<div class="block">Constructor for a line-based connection with optional SSL.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>engine</code> - the SSL engine, or null for plaintext only</dd>
<dd><code>secure</code> - true if SSL should be active immediately</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="receiveLine(java.nio.ByteBuffer)">
<h3>receiveLine</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">receiveLine</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;data)</span></div>
<div class="block">Parses CRLF-terminated lines from the buffer and calls
 <a href="#lineReceived(java.nio.ByteBuffer)"><code>lineReceived(ByteBuffer)</code></a> for each complete line.

 <p>This method processes as many complete lines as possible from the
 input buffer. For each line ending with CRLF, the buffer is temporarily
 windowed to contain just that line (including the CRLF terminator) and
 passed to <a href="#lineReceived(java.nio.ByteBuffer)"><code>lineReceived(ByteBuffer)</code></a>.

 <p>After processing, the buffer's position is set to the start of any
 unconsumed data (a partial line without CRLF terminator). The caller
 should call <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html#compact--" title="class or interface in java.nio" class="external-link"><code>ByteBuffer.compact()</code></a> before reading more data if
 there is unconsumed data remaining.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - the byte data in read mode (position at data start, limit at data end)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="continueLineProcessing()">
<h3>continueLineProcessing</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">continueLineProcessing</span>()</div>
<div class="block">Called after each line is processed to determine if line-based
 processing should continue.

 <p>Subclasses can override this method to return false when the
 protocol transitions to a non-line-based mode (e.g., receiving
 message data in SMTP DATA or IMAP APPEND). When this method returns
 false, <a href="#receiveLine(java.nio.ByteBuffer)"><code>receiveLine(ByteBuffer)</code></a> stops processing and returns,
 leaving any remaining data unconsumed in the buffer.

 <p>The default implementation returns true, meaning all complete
 lines in the buffer will be processed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true to continue processing lines, false to stop</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lineReceived(java.nio.ByteBuffer)">
<h3>lineReceived</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">lineReceived</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;line)</span></div>
<div class="block">Called when a complete CRLF-terminated line has been received.

 <p>The buffer contains exactly one line including its CRLF terminator,
 with position at the start of the line and limit immediately after the
 terminating LF.

 <p>Implementations should consume the buffer contents as needed. The
 buffer state after this method returns is ignored; the caller manages
 buffer positioning.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>line</code> - a buffer containing the complete line including CRLF terminator</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><small>Gumdrop is free software distributed under the GNU Lesser General Public License.</small></small></p>
</footer>
</div>
</div>
</body>
</html>
