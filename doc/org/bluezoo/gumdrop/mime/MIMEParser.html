<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.29) on Sat Jan 03 18:19:09 GMT 2026 -->
<title>MIMEParser (Gumdrop API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2026-01-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MIMEParser (Gumdrop API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MIMEParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Gumdrop</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.bluezoo.gumdrop.mime</a></div>
<h2 title="Class MIMEParser" class="title">Class MIMEParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.bluezoo.gumdrop.mime.MIMEParser</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="rfc5322/MessageParser.html" title="class in org.bluezoo.gumdrop.mime.rfc5322">MessageParser</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">MIMEParser</span>
extends java.lang.Object</pre>
<div class="block">A parser for MIME entities.

 <p>This parser uses a completely asynchronous, non-blocking,
 push design pattern (also known as EDA or event driven architecture).
 First a MIMEHandler must be supplied to the parser for receiving
 parsing events.
 Then byte data can be supplied to the parser via the receive method as
 and when it arrives, obviously in order. The MIMEHandler (event sink)
 will be notified of events that it can use to construct an in-memory
 representation of the entity (AST) or store its component parts via some
 kind of storage service which allows for not storing potentially large
 representations entirely in memory.
 The parser itself will not block the process receiving byte data.

 <h3>Buffer Management Contract</h3>
 <p>This parser operates on standard <code>ByteBuffer</code> with a non-blocking
 stream contract:
 <ul>
   <li>The caller provides a buffer in read mode (ready for get operations)</li>
   <li>The parser consumes as many complete lines as possible</li>
   <li>After <a href="#receive(java.nio.ByteBuffer)"><code>receive(ByteBuffer)</code></a> returns, the buffer's position
       indicates where unconsumed data begins</li>
   <li>If there is unconsumed data (partial line), the caller MUST call
       <code>ByteBuffer.compact()</code> before reading more data into the buffer</li>
   <li>The next <code>receive()</code> call will continue from where parsing left off</li>
 </ul>

 <h3>Typical Usage</h3>
 <pre>
 ByteBuffer buffer = ByteBuffer.allocate(8192);
 MIMEParser parser = new MIMEParser();
 parser.setHandler(myHandler);

 while (channel.read(buffer) &gt; 0) {
     buffer.flip();
     parser.receive(buffer);
     buffer.compact();
 }
 parser.close();
 </pre>

 <p>This base class handles core MIME parsing including:
 <ul>
   <li>Content-Type header parsing and multipart boundary detection</li>
   <li>Content-Disposition header parsing</li>
   <li>Content-Transfer-Encoding handling (base64, quoted-printable)</li>
   <li>Content-ID header parsing</li>
   <li>MIME-Version header parsing</li>
   <li>Multipart boundary detection and entity lifecycle</li>
 </ul></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href='mailto:dog@gnu.org'>Chris Burdess</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="MIMEParser.BoundaryMatch.html" title="class in org.bluezoo.gumdrop.mime">MIMEParser.BoundaryMatch</a></span></code></th>
<td class="colLast">
<div class="block">Result class for boundary detection that includes boundary match information.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="MIMEHandler.html" title="interface in org.bluezoo.gumdrop.mime">MIMEHandler</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handler">handler</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.bluezoo.gumdrop.mime.MIMEParser.MIMEParserLocator</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#locator">locator</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">MIMEParser</a></span>()</code></th>
<td class="colLast">
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bodyLine(java.nio.ByteBuffer)">bodyLine</a></span>&#8203;(java.nio.ByteBuffer&nbsp;buffer)</code></th>
<td class="colLast">
<div class="block">We have received a complete or partial (end of) line up to and
 including the CRLF/CR/LF in the body.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected <a href="MIMEParser.BoundaryMatch.html" title="class in org.bluezoo.gumdrop.mime">MIMEParser.BoundaryMatch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkBoundary(java.nio.ByteBuffer,java.lang.String)">checkBoundary</a></span>&#8203;(java.nio.ByteBuffer&nbsp;buffer,
             java.lang.String&nbsp;boundary)</code></th>
<td class="colLast">
<div class="block">Check if buffer content matches a specific boundary.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Notifies the parser of an end of input, end of stream or end of
 connection event, indicating that there will be no more invocations
 of receive.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decodeHeaderValue(java.lang.String,byte%5B%5D)">decodeHeaderValue</a></span>&#8203;(java.lang.String&nbsp;name,
                 byte[]&nbsp;header)</code></th>
<td class="colLast">
<div class="block">Decode header value to a String.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="MIMEParser.BoundaryMatch.html" title="class in org.bluezoo.gumdrop.mime">MIMEParser.BoundaryMatch</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#detectBoundary(java.nio.ByteBuffer)">detectBoundary</a></span>&#8203;(java.nio.ByteBuffer&nbsp;buffer)</code></th>
<td class="colLast">
<div class="block">Detect if the buffer content matches the current (innermost) boundary.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMaxBufferSize()">getMaxBufferSize</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the maximum buffer size for decoded content.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleContentDescriptionHeader(java.lang.String,java.lang.String)">handleContentDescriptionHeader</a></span>&#8203;(java.lang.String&nbsp;name,
                              java.lang.String&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleContentDispositionHeader(java.lang.String,java.lang.String)">handleContentDispositionHeader</a></span>&#8203;(java.lang.String&nbsp;name,
                              java.lang.String&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleContentIDHeader(java.lang.String,java.lang.String)">handleContentIDHeader</a></span>&#8203;(java.lang.String&nbsp;name,
                     java.lang.String&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleContentTransferEncodingHeader(java.lang.String,java.lang.String)">handleContentTransferEncodingHeader</a></span>&#8203;(java.lang.String&nbsp;name,
                                   java.lang.String&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleContentTypeHeader(java.lang.String,java.lang.String)">handleContentTypeHeader</a></span>&#8203;(java.lang.String&nbsp;name,
                       java.lang.String&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMIMEVersionHeader(java.lang.String,java.lang.String)">handleMIMEVersionHeader</a></span>&#8203;(java.lang.String&nbsp;name,
                       java.lang.String&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#header(java.lang.String,java.lang.String)">header</a></span>&#8203;(java.lang.String&nbsp;name,
      java.lang.String&nbsp;value)</code></th>
<td class="colLast">
<div class="block">We have received a complete header (name and value).</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#headerLine(java.nio.ByteBuffer)">headerLine</a></span>&#8203;(java.nio.ByteBuffer&nbsp;buffer)</code></th>
<td class="colLast">
<div class="block">Process a header line up to its CRLF.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUnderflow()">isUnderflow</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns whether the last receive() call had unconsumed data.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#receive(java.nio.ByteBuffer)">receive</a></span>&#8203;(java.nio.ByteBuffer&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Causes the parser to process as much data as it can read from the
 given byte buffer.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reset()">reset</a></span>()</code></th>
<td class="colLast">
<div class="block">Resets the parser in preparation for parsing another entity.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAllowCRLineEnd(boolean)">setAllowCRLineEnd</a></span>&#8203;(boolean&nbsp;flag)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAllowMalformed(boolean)">setAllowMalformed</a></span>&#8203;(boolean&nbsp;allowMalformed)</code></th>
<td class="colLast">
<div class="block">Sets whether to allow malformed entity structures that can be recovered.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setHandler(org.bluezoo.gumdrop.mime.MIMEHandler)">setHandler</a></span>&#8203;(<a href="MIMEHandler.html" title="interface in org.bluezoo.gumdrop.mime">MIMEHandler</a>&nbsp;handler)</code></th>
<td class="colLast">
<div class="block">Sets the MIME handler instance (aka event sink) that will be used
 to receive parsing events.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMaxBufferSize(int)">setMaxBufferSize</a></span>&#8203;(int&nbsp;maxBufferSize)</code></th>
<td class="colLast">
<div class="block">Sets the maximum buffer size for decoded content.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="handler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handler</h4>
<pre>protected&nbsp;<a href="MIMEHandler.html" title="interface in org.bluezoo.gumdrop.mime">MIMEHandler</a> handler</pre>
</li>
</ul>
<a id="locator">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>locator</h4>
<pre>protected&nbsp;org.bluezoo.gumdrop.mime.MIMEParser.MIMEParserLocator locator</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MIMEParser</h4>
<pre>public&nbsp;MIMEParser()</pre>
<div class="block">Constructor.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setHandler(org.bluezoo.gumdrop.mime.MIMEHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHandler</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setHandler&#8203;(<a href="MIMEHandler.html" title="interface in org.bluezoo.gumdrop.mime">MIMEHandler</a>&nbsp;handler)</pre>
<div class="block">Sets the MIME handler instance (aka event sink) that will be used
 to receive parsing events.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handler</code> - the MIME handler</dd>
</dl>
</li>
</ul>
<a id="getMaxBufferSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxBufferSize</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getMaxBufferSize()</pre>
<div class="block">Gets the maximum buffer size for decoded content.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum buffer size in bytes</dd>
</dl>
</li>
</ul>
<a id="setMaxBufferSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxBufferSize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMaxBufferSize&#8203;(int&nbsp;maxBufferSize)</pre>
<div class="block">Sets the maximum buffer size for decoded content.
 This limits the amount of memory used when decoding Content-Transfer-Encoding.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxBufferSize</code> - the maximum buffer size in bytes (must be positive)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if maxBufferSize is not positive</dd>
</dl>
</li>
</ul>
<a id="setAllowMalformed(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllowMalformed</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setAllowMalformed&#8203;(boolean&nbsp;allowMalformed)</pre>
<div class="block">Sets whether to allow malformed entity structures that can be recovered.
 When true, the parser will attempt to recover from malformed structures
 (like non-CRLF line endings, malformed boundaries) instead of throwing
 parse exceptions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allowMalformed</code> - true to allow malformed structures, false for strict parsing</dd>
</dl>
</li>
</ul>
<a id="setAllowCRLineEnd(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllowCRLineEnd</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;setAllowCRLineEnd&#8203;(boolean&nbsp;flag)</pre>
</li>
</ul>
<a id="receive(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receive</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;receive&#8203;(java.nio.ByteBuffer&nbsp;data)
             throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<div class="block">Causes the parser to process as much data as it can read from the
 given byte buffer.

 <p>Multiple invocations of this method will typically occur, containing
 incomplete data. The parser will process as many complete lines as it can.

 <p><strong>Buffer Contract:</strong> The byte buffer must be in read mode
 (after <code>flip()</code>). After this method returns:
 <ul>
   <li>The buffer's position indicates where unconsumed data begins</li>
   <li>If <code>position() &lt; limit()</code>, there is a partial line that needs
       more data to complete</li>
   <li>The caller MUST call <code>buffer.compact()</code> before reading more
       data into the buffer</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the byte data (must be in read mode)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code> - if any part of the parsing or
         processing process wishes to cancel and abandon the parse</dd>
<dd><code>java.lang.IllegalStateException</code> - if no handler has been set</dd>
</dl>
</li>
</ul>
<a id="isUnderflow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUnderflow</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isUnderflow()</pre>
<div class="block">Returns whether the last receive() call had unconsumed data.
 If true, the caller should compact the buffer and provide more data.
 If close() is called while underflow is true, an exception is thrown.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there is a partial line awaiting more data</dd>
</dl>
</li>
</ul>
<a id="headerLine(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>headerLine</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;headerLine&#8203;(java.nio.ByteBuffer&nbsp;buffer)
                   throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<div class="block">Process a header line up to its CRLF.
 The line delimiter (ideally CRLF) IS present at the end of the line.
 Buffer position/limit should be set to the line range.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="decodeHeaderValue(java.lang.String,byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeHeaderValue</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;decodeHeaderValue&#8203;(java.lang.String&nbsp;name,
                                             byte[]&nbsp;header)</pre>
<div class="block">Decode header value to a String.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the header name</dd>
<dd><code>header</code> - the byte value of the header value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a String representing the header value</dd>
</dl>
</li>
</ul>
<a id="header(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>header</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;header&#8203;(java.lang.String&nbsp;name,
                      java.lang.String&nbsp;value)
               throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<div class="block">We have received a complete header (name and value).
 At this point we will decide if this is a structured header or not. If
 so we will try to parse it and call the associated structured method
 on the handler. If parsing fails we call the unstructured header method.
 Subclasses can override this to handle additional headers.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="handleContentTypeHeader(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleContentTypeHeader</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;handleContentTypeHeader&#8203;(java.lang.String&nbsp;name,
                                       java.lang.String&nbsp;value)
                                throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="handleContentDispositionHeader(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleContentDispositionHeader</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;handleContentDispositionHeader&#8203;(java.lang.String&nbsp;name,
                                              java.lang.String&nbsp;value)
                                       throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="handleContentTransferEncodingHeader(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleContentTransferEncodingHeader</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;handleContentTransferEncodingHeader&#8203;(java.lang.String&nbsp;name,
                                                   java.lang.String&nbsp;value)
                                            throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="handleContentIDHeader(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleContentIDHeader</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;handleContentIDHeader&#8203;(java.lang.String&nbsp;name,
                                     java.lang.String&nbsp;value)
                              throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="handleContentDescriptionHeader(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleContentDescriptionHeader</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;handleContentDescriptionHeader&#8203;(java.lang.String&nbsp;name,
                                              java.lang.String&nbsp;value)
                                       throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="handleMIMEVersionHeader(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleMIMEVersionHeader</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;handleMIMEVersionHeader&#8203;(java.lang.String&nbsp;name,
                                       java.lang.String&nbsp;value)
                                throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="bodyLine(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bodyLine</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;bodyLine&#8203;(java.nio.ByteBuffer&nbsp;buffer)
                 throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<div class="block">We have received a complete or partial (end of) line up to and
 including the CRLF/CR/LF in the body.
 Buffer position/limit should be set to the line range (including line delimiter).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code></dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()
           throws <a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></pre>
<div class="block">Notifies the parser of an end of input, end of stream or end of
 connection event, indicating that there will be no more invocations
 of receive.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MIMEParseException.html" title="class in org.bluezoo.gumdrop.mime">MIMEParseException</a></code> - if there was unconsumed data in a context
         where it's not allowed (headers or multipart boundaries)</dd>
</dl>
</li>
</ul>
<a id="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;reset()</pre>
<div class="block">Resets the parser in preparation for parsing another entity.</div>
</li>
</ul>
<a id="detectBoundary(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>detectBoundary</h4>
<pre class="methodSignature">protected&nbsp;<a href="MIMEParser.BoundaryMatch.html" title="class in org.bluezoo.gumdrop.mime">MIMEParser.BoundaryMatch</a>&nbsp;detectBoundary&#8203;(java.nio.ByteBuffer&nbsp;buffer)</pre>
<div class="block">Detect if the buffer content matches the current (innermost) boundary.
 Buffer position/limit should be set to the line range.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buffer</code> - the buffer to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>BoundaryMatch if boundary found, null otherwise</dd>
</dl>
</li>
</ul>
<a id="checkBoundary(java.nio.ByteBuffer,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkBoundary</h4>
<pre class="methodSignature">protected&nbsp;<a href="MIMEParser.BoundaryMatch.html" title="class in org.bluezoo.gumdrop.mime">MIMEParser.BoundaryMatch</a>&nbsp;checkBoundary&#8203;(java.nio.ByteBuffer&nbsp;buffer,
                                                 java.lang.String&nbsp;boundary)</pre>
<div class="block">Check if buffer content matches a specific boundary.
 Buffer position/limit should be set to the line range.
 Works directly with buffer bytes - no allocations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buffer</code> - the buffer to check</dd>
<dd><code>boundary</code> - the boundary string to match</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>BoundaryMatch if boundary found, null otherwise</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MIMEParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Copyright &copy; 2005, 2025 Chris Burdess. Licensed under LGPL.</div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><small>Gumdrop is free software distributed under the GNU Lesser General Public License.</small></small></p>
</footer>
</body>
</html>
