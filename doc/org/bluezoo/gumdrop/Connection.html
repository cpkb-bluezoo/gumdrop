<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.29) on Sat Jan 03 18:09:22 GMT 2026 -->
<title>Connection (Gumdrop API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2026-01-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Connection (Gumdrop API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":6,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":6,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":9,"i43":9,"i44":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Connection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Gumdrop</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.bluezoo.gumdrop</a></div>
<h2 title="Class Connection" class="title">Class Connection</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.bluezoo.gumdrop.Connection</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="ftp/FTPDataConnection.html" title="class in org.bluezoo.gumdrop.ftp">FTPDataConnection</a></code>, <code><a href="http/client/HTTPClientConnection.html" title="class in org.bluezoo.gumdrop.http.client">HTTPClientConnection</a></code>, <code><a href="ldap/client/LDAPClientConnection.html" title="class in org.bluezoo.gumdrop.ldap.client">LDAPClientConnection</a></code>, <code><a href="LineBasedConnection.html" title="class in org.bluezoo.gumdrop">LineBasedConnection</a></code>, <code><a href="redis/client/RedisClientConnection.html" title="class in org.bluezoo.gumdrop.redis.client">RedisClientConnection</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">Connection</span>
extends java.lang.Object
implements <a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></pre>
<div class="block">Abstract base class for TCP protocol handlers.
 All I/O and SSL processing occurs on the assigned SelectorLoop thread.

 <p>Connections are created by <a href="Connector.html" title="class in org.bluezoo.gumdrop"><code>Connector</code></a> subclasses (either
 <a href="Server.html" title="class in org.bluezoo.gumdrop"><code>Server</code></a> for inbound connections or <a href="Client.html" title="class in org.bluezoo.gumdrop"><code>Client</code></a> for outbound
 connections) and are registered with a <a href="SelectorLoop.html" title="class in org.bluezoo.gumdrop"><code>SelectorLoop</code></a> for
 event-driven I/O processing.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href='mailto:dog@gnu.org'>Chris Burdess</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.org.bluezoo.gumdrop.ChannelHandler">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;org.bluezoo.gumdrop.<a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></h3>
<code><a href="ChannelHandler.Type.html" title="enum in org.bluezoo.gumdrop">ChannelHandler.Type</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bufferSize">bufferSize</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.security.cert.X509Certificate[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#certificates">certificates</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.nio.channels.SocketChannel</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channel">channel</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cipherSuite">cipherSuite</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="Connector.html" title="class in org.bluezoo.gumdrop">Connector</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connector">connector</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected javax.net.ssl.SSLEngine</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#engine">engine</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#keySize">keySize</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#secure">secure</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="telemetry/Trace.html" title="class in org.bluezoo.gumdrop.telemetry">Trace</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#trace">trace</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Connection</a></span>()</code></th>
<td class="colLast">
<div class="block">Constructor for an unencrypted connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(javax.net.ssl.SSLEngine,boolean)">Connection</a></span>&#8203;(javax.net.ssl.SSLEngine&nbsp;engine,
          boolean&nbsp;secure)</code></th>
<td class="colLast">
<div class="block">Constructor for a connection with optional SSL.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Closes the connection gracefully.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connected()">connected</a></span>()</code></th>
<td class="colLast">
<div class="block">Called when the connection is established (for client connections).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="ConnectionInfo.html" title="interface in org.bluezoo.gumdrop">ConnectionInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createConnectionInfo()">createConnectionInfo</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a ConnectionInfo for this connection.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected <a href="TLSInfo.html" title="interface in org.bluezoo.gumdrop">TLSInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createTLSInfo()">createTLSInfo</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a TLSInfo for this connection.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#disconnected()">disconnected</a></span>()</code></th>
<td class="colLast">
<div class="block">Called when the peer closed the connection.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#endTrace()">endTrace</a></span>()</code></th>
<td class="colLast">
<div class="block">Ends the trace and exports telemetry data.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finishConnectFailed(java.io.IOException)">finishConnectFailed</a></span>&#8203;(java.io.IOException&nbsp;connectException)</code></th>
<td class="colLast">
<div class="block">Called when a connect attempt failed (for client connections).</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="ChannelHandler.Type.html" title="enum in org.bluezoo.gumdrop">ChannelHandler.Type</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChannelType()">getChannelType</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the type of this channel handler for dispatch purposes.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCipherSuite()">getCipherSuite</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the cipher suite used for this secure connection.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIdleTimeMs()">getIdleTimeMs</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the idle time in milliseconds.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKeySize()">getKeySize</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the key size of the cipher suite.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.net.SocketAddress</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLocalSocketAddress()">getLocalSocketAddress</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the local address of this connection.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.security.cert.Certificate[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPeerCertificates()">getPeerCertificates</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the peer certificates from the TLS handshake.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRemoteAddress()">getRemoteAddress</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the remote socket address for SSLState logging.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.net.SocketAddress</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRemoteSocketAddress()">getRemoteSocketAddress</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the remote address of this connection.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.nio.channels.SelectionKey</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSelectionKey()">getSelectionKey</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the SelectionKey associated with this handler.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="SelectorLoop.html" title="class in org.bluezoo.gumdrop">SelectorLoop</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSelectorLoop()">getSelectorLoop</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the SelectorLoop this handler is registered with.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="telemetry/TelemetryConfig.html" title="class in org.bluezoo.gumdrop.telemetry">TelemetryConfig</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTelemetryConfig()">getTelemetryConfig</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the telemetry configuration for this connection.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimestampConnected()">getTimestampConnected</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the timestamp when this connection was fully established.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimestampCreated()">getTimestampCreated</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the timestamp when this connection was created.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimestampLastActivity()">getTimestampLastActivity</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the timestamp of the last activity on this connection.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="telemetry/Trace.html" title="class in org.bluezoo.gumdrop.telemetry">Trace</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTrace()">getTrace</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the trace context for this connection.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handshakeComplete(java.lang.String)">handshakeComplete</a></span>&#8203;(java.lang.String&nbsp;protocol)</code></th>
<td class="colLast">
<div class="block">Called when SSL handshaking has completed.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasTelemetry()">hasTelemetry</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if telemetry is enabled for this connection.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init()">init</a></span>()</code></th>
<td class="colLast">
<div class="block">Initializes the connection after the channel is set.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initializeSSLState()">initializeSSLState</a></span>()</code></th>
<td class="colLast">
<div class="block">Initializes SSL state for STARTTLS upgrade.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initiateClientTLSHandshake()">initiateClientTLSHandshake</a></span>()</code></th>
<td class="colLast">
<div class="block">Initiates the TLS handshake for client connections.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initTrace(java.lang.String)">initTrace</a></span>&#8203;(java.lang.String&nbsp;spanName)</code></th>
<td class="colLast">
<div class="block">Creates and sets a trace context for this connection.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initTraceFromTraceparent(java.lang.String,java.lang.String)">initTraceFromTraceparent</a></span>&#8203;(java.lang.String&nbsp;traceparent,
                        java.lang.String&nbsp;spanName)</code></th>
<td class="colLast">
<div class="block">Creates a trace context from a remote traceparent header.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isClosing()">isClosing</a></span>()</code></th>
<td class="colLast">
<div class="block">Indicates whether this connection is currently closing.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isOpen()">isOpen</a></span>()</code></th>
<td class="colLast">
<div class="block">Indicates whether this connection is open.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isSecure()">isSecure</a></span>()</code></th>
<td class="colLast">
<div class="block">Indicates whether this connection is secure (TLS active).</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isTelemetryEnabled()">isTelemetryEnabled</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if telemetry is enabled for this connection's connector.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onApplicationData(java.nio.ByteBuffer)">onApplicationData</a></span>&#8203;(java.nio.ByteBuffer&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Called by SSLState when decrypted application data is available.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onClosed()">onClosed</a></span>()</code></th>
<td class="colLast">
<div class="block">Called by SSLState when TLS connection is closed.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onHandshakeComplete(java.lang.String)">onHandshakeComplete</a></span>&#8203;(java.lang.String&nbsp;protocol)</code></th>
<td class="colLast">
<div class="block">Called by SSLState when TLS handshake completes.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#receive(java.nio.ByteBuffer)">receive</a></span>&#8203;(java.nio.ByteBuffer&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Called when application data is received from the peer.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#send(java.nio.ByteBuffer)">send</a></span>&#8203;(java.nio.ByteBuffer&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Sends application data to the remote peer.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSelectionKey(java.nio.channels.SelectionKey)">setSelectionKey</a></span>&#8203;(java.nio.channels.SelectionKey&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Sets the SelectionKey for this handler.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSelectorLoop(org.bluezoo.gumdrop.SelectorLoop)">setSelectorLoop</a></span>&#8203;(<a href="SelectorLoop.html" title="class in org.bluezoo.gumdrop">SelectorLoop</a>&nbsp;loop)</code></th>
<td class="colLast">
<div class="block">Sets the SelectorLoop for this handler.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSendCallback(org.bluezoo.gumdrop.SendCallback)">setSendCallback</a></span>&#8203;(<a href="SendCallback.html" title="interface in org.bluezoo.gumdrop">SendCallback</a>&nbsp;callback)</code></th>
<td class="colLast">
<div class="block">Sets a callback to intercept send operations.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTrace(org.bluezoo.gumdrop.telemetry.Trace)">setTrace</a></span>&#8203;(<a href="telemetry/Trace.html" title="class in org.bluezoo.gumdrop.telemetry">Trace</a>&nbsp;trace)</code></th>
<td class="colLast">
<div class="block">Sets the trace context for this connection.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toASCIIString(java.nio.ByteBuffer)">toASCIIString</a></span>&#8203;(java.nio.ByteBuffer&nbsp;data)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString(java.nio.ByteBuffer)">toString</a></span>&#8203;(java.nio.ByteBuffer&nbsp;buf)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateLastActivity()">updateLastActivity</a></span>()</code></th>
<td class="colLast">
<div class="block">Updates the last activity timestamp.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.bluezoo.gumdrop.ChannelHandler">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.bluezoo.gumdrop.<a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></h3>
<code><a href="ChannelHandler.html#scheduleTimer(long,java.lang.Runnable)">scheduleTimer</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="connector">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connector</h4>
<pre>protected&nbsp;<a href="Connector.html" title="class in org.bluezoo.gumdrop">Connector</a> connector</pre>
</li>
</ul>
<a id="channel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>channel</h4>
<pre>protected&nbsp;java.nio.channels.SocketChannel channel</pre>
</li>
</ul>
<a id="bufferSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferSize</h4>
<pre>protected&nbsp;int bufferSize</pre>
</li>
</ul>
<a id="secure">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>secure</h4>
<pre>protected&nbsp;boolean secure</pre>
</li>
</ul>
<a id="certificates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>certificates</h4>
<pre>protected&nbsp;java.security.cert.X509Certificate[] certificates</pre>
</li>
</ul>
<a id="cipherSuite">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cipherSuite</h4>
<pre>protected&nbsp;java.lang.String cipherSuite</pre>
</li>
</ul>
<a id="keySize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keySize</h4>
<pre>protected&nbsp;int keySize</pre>
</li>
</ul>
<a id="engine">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>engine</h4>
<pre>protected final&nbsp;javax.net.ssl.SSLEngine engine</pre>
</li>
</ul>
<a id="trace">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>trace</h4>
<pre>protected&nbsp;<a href="telemetry/Trace.html" title="class in org.bluezoo.gumdrop.telemetry">Trace</a> trace</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Connection</h4>
<pre>protected&nbsp;Connection()</pre>
<div class="block">Constructor for an unencrypted connection.</div>
</li>
</ul>
<a id="&lt;init&gt;(javax.net.ssl.SSLEngine,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Connection</h4>
<pre>protected&nbsp;Connection&#8203;(javax.net.ssl.SSLEngine&nbsp;engine,
                     boolean&nbsp;secure)</pre>
<div class="block">Constructor for a connection with optional SSL.
 If secure is true and engine is not null, SSL will be active immediately.
 If secure is false but engine is not null, STARTTLS can be used later.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>engine</code> - the SSL engine, or null for plaintext only</dd>
<dd><code>secure</code> - true if SSL should be active immediately</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="isSecure()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSecure</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isSecure()</pre>
<div class="block">Indicates whether this connection is secure (TLS active).</div>
</li>
</ul>
<a id="isOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpen</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isOpen()</pre>
<div class="block">Indicates whether this connection is open.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the underlying channel is open, false otherwise</dd>
</dl>
</li>
</ul>
<a id="isClosing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClosing</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isClosing()</pre>
<div class="block">Indicates whether this connection is currently closing.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if close has been initiated</dd>
</dl>
</li>
</ul>
<a id="getTimestampCreated()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimestampCreated</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getTimestampCreated()</pre>
<div class="block">Returns the timestamp when this connection was created.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>creation timestamp in milliseconds since epoch</dd>
</dl>
</li>
</ul>
<a id="getTimestampLastActivity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimestampLastActivity</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getTimestampLastActivity()</pre>
<div class="block">Returns the timestamp of the last activity on this connection.
 Activity includes data received or sent.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>last activity timestamp in milliseconds since epoch</dd>
</dl>
</li>
</ul>
<a id="getTimestampConnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimestampConnected</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getTimestampConnected()</pre>
<div class="block">Returns the timestamp when this connection was fully established.
 For secure connections, this is after TLS handshake completion.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>connected timestamp in milliseconds since epoch, or 0 if not yet connected</dd>
</dl>
</li>
</ul>
<a id="getIdleTimeMs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdleTimeMs</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getIdleTimeMs()</pre>
<div class="block">Returns the idle time in milliseconds.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>milliseconds since last activity</dd>
</dl>
</li>
</ul>
<a id="updateLastActivity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLastActivity</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;updateLastActivity()</pre>
<div class="block">Updates the last activity timestamp.
 Called automatically on data receive/send.</div>
</li>
</ul>
<a id="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;init()
          throws java.io.IOException</pre>
<div class="block">Initializes the connection after the channel is set.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="initializeSSLState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeSSLState</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;initializeSSLState()
                                 throws java.io.IOException</pre>
<div class="block">Initializes SSL state for STARTTLS upgrade.
 The connection must have been created with an SSLEngine but secure=false.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if SSL initialization fails</dd>
</dl>
</li>
</ul>
<a id="initiateClientTLSHandshake()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initiateClientTLSHandshake</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;initiateClientTLSHandshake()</pre>
<div class="block">Initiates the TLS handshake for client connections.

 <p>For client TLS connections, the client must send the ClientHello first.
 This method triggers that initial handshake step. It should be called
 after TCP connect completes for connections that start secure.

 <p>Server connections should NOT call this - they wait for the client's
 ClientHello to arrive via normal data reception.

 <p>This method is safe to call if SSL is not configured - it does nothing.</div>
</li>
</ul>
<a id="getChannelType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChannelType</h4>
<pre class="methodSignature">public final&nbsp;<a href="ChannelHandler.Type.html" title="enum in org.bluezoo.gumdrop">ChannelHandler.Type</a>&nbsp;getChannelType()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ChannelHandler.html#getChannelType()">ChannelHandler</a></code></span></div>
<div class="block">Returns the type of this channel handler for dispatch purposes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ChannelHandler.html#getChannelType()">getChannelType</a></code>&nbsp;in interface&nbsp;<code><a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the channel handler type</dd>
</dl>
</li>
</ul>
<a id="setSelectionKey(java.nio.channels.SelectionKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSelectionKey</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setSelectionKey&#8203;(java.nio.channels.SelectionKey&nbsp;key)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ChannelHandler.html#setSelectionKey(java.nio.channels.SelectionKey)">ChannelHandler</a></code></span></div>
<div class="block">Sets the SelectionKey for this handler.
 Called by SelectorLoop during registration.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ChannelHandler.html#setSelectionKey(java.nio.channels.SelectionKey)">setSelectionKey</a></code>&nbsp;in interface&nbsp;<code><a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the selection key</dd>
</dl>
</li>
</ul>
<a id="getSelectionKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelectionKey</h4>
<pre class="methodSignature">public&nbsp;java.nio.channels.SelectionKey&nbsp;getSelectionKey()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ChannelHandler.html#getSelectionKey()">ChannelHandler</a></code></span></div>
<div class="block">Returns the SelectionKey associated with this handler.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ChannelHandler.html#getSelectionKey()">getSelectionKey</a></code>&nbsp;in interface&nbsp;<code><a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the selection key, or null if not yet registered</dd>
</dl>
</li>
</ul>
<a id="setSelectorLoop(org.bluezoo.gumdrop.SelectorLoop)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSelectorLoop</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setSelectorLoop&#8203;(<a href="SelectorLoop.html" title="class in org.bluezoo.gumdrop">SelectorLoop</a>&nbsp;loop)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ChannelHandler.html#setSelectorLoop(org.bluezoo.gumdrop.SelectorLoop)">ChannelHandler</a></code></span></div>
<div class="block">Sets the SelectorLoop for this handler.
 Called by SelectorLoop during registration.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ChannelHandler.html#setSelectorLoop(org.bluezoo.gumdrop.SelectorLoop)">setSelectorLoop</a></code>&nbsp;in interface&nbsp;<code><a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>loop</code> - the selector loop</dd>
</dl>
</li>
</ul>
<a id="getSelectorLoop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelectorLoop</h4>
<pre class="methodSignature">public&nbsp;<a href="SelectorLoop.html" title="class in org.bluezoo.gumdrop">SelectorLoop</a>&nbsp;getSelectorLoop()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="ChannelHandler.html#getSelectorLoop()">ChannelHandler</a></code></span></div>
<div class="block">Returns the SelectorLoop this handler is registered with.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="ChannelHandler.html#getSelectorLoop()">getSelectorLoop</a></code>&nbsp;in interface&nbsp;<code><a href="ChannelHandler.html" title="interface in org.bluezoo.gumdrop">ChannelHandler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the selector loop, or null if not yet registered</dd>
</dl>
</li>
</ul>
<a id="setSendCallback(org.bluezoo.gumdrop.SendCallback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSendCallback</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setSendCallback&#8203;(<a href="SendCallback.html" title="interface in org.bluezoo.gumdrop">SendCallback</a>&nbsp;callback)</pre>
<div class="block">Sets a callback to intercept send operations.
 Used for testing and integration with streams that need to capture sent data.</div>
</li>
</ul>
<a id="getTrace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrace</h4>
<pre class="methodSignature">public&nbsp;<a href="telemetry/Trace.html" title="class in org.bluezoo.gumdrop.telemetry">Trace</a>&nbsp;getTrace()</pre>
<div class="block">Returns the trace context for this connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the trace, or null if telemetry is disabled</dd>
</dl>
</li>
</ul>
<a id="setTrace(org.bluezoo.gumdrop.telemetry.Trace)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTrace</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTrace&#8203;(<a href="telemetry/Trace.html" title="class in org.bluezoo.gumdrop.telemetry">Trace</a>&nbsp;trace)</pre>
<div class="block">Sets the trace context for this connection.
 This is typically called during connection initialization when
 continuing a trace from a remote context.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>trace</code> - the trace context</dd>
</dl>
</li>
</ul>
<a id="hasTelemetry()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasTelemetry</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;hasTelemetry()</pre>
<div class="block">Returns true if telemetry is enabled for this connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a trace context is available</dd>
</dl>
</li>
</ul>
<a id="isTelemetryEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTelemetryEnabled</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isTelemetryEnabled()</pre>
<div class="block">Returns true if telemetry is enabled for this connection's connector.
 This indicates whether new traces should be created for this connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if telemetry is enabled on the connector</dd>
</dl>
</li>
</ul>
<a id="getTelemetryConfig()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTelemetryConfig</h4>
<pre class="methodSignature">public&nbsp;<a href="telemetry/TelemetryConfig.html" title="class in org.bluezoo.gumdrop.telemetry">TelemetryConfig</a>&nbsp;getTelemetryConfig()</pre>
<div class="block">Returns the telemetry configuration for this connection.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the telemetry config, or null if not configured</dd>
</dl>
</li>
</ul>
<a id="initTrace(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initTrace</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;initTrace&#8203;(java.lang.String&nbsp;spanName)</pre>
<div class="block">Creates and sets a trace context for this connection.
 Called automatically during initialization if telemetry is enabled.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>spanName</code> - the name for the root span</dd>
</dl>
</li>
</ul>
<a id="initTraceFromTraceparent(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initTraceFromTraceparent</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;initTraceFromTraceparent&#8203;(java.lang.String&nbsp;traceparent,
                                        java.lang.String&nbsp;spanName)</pre>
<div class="block">Creates a trace context from a remote traceparent header.
 Use this to continue a distributed trace.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>traceparent</code> - the W3C traceparent header value</dd>
<dd><code>spanName</code> - the name for the local root span</dd>
</dl>
</li>
</ul>
<a id="endTrace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endTrace</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;endTrace()</pre>
<div class="block">Ends the trace and exports telemetry data.
 Called automatically when the connection is closed.</div>
</li>
</ul>
<a id="receive(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receive</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;receive&#8203;(java.nio.ByteBuffer&nbsp;data)</pre>
<div class="block">Called when application data is received from the peer.
 SSL decryption is handled automatically if this is a secure connection.
 Public to allow direct testing without reflection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the application data received</dd>
</dl>
</li>
</ul>
<a id="send(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;send&#8203;(java.nio.ByteBuffer&nbsp;data)</pre>
<div class="block">Sends application data to the remote peer.
 SSL encryption is handled automatically if this is a secure connection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the application data to send</dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes the connection gracefully.
 For SSL connections, sends close_notify before closing.
 The actual close happens after netOut is flushed by SelectorLoop.</div>
</li>
</ul>
<a id="connected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connected</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;connected()</pre>
<div class="block">Called when the connection is established (for client connections).</div>
</li>
</ul>
<a id="finishConnectFailed(java.io.IOException)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishConnectFailed</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;finishConnectFailed&#8203;(java.io.IOException&nbsp;connectException)</pre>
<div class="block">Called when a connect attempt failed (for client connections).

 <p>The default implementation deregisters this connection from Gumdrop
 if it was a client connection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connectException</code> - the exception that caused the failure</dd>
</dl>
</li>
</ul>
<a id="disconnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnected</h4>
<pre class="methodSignature">protected abstract&nbsp;void&nbsp;disconnected()
                              throws java.io.IOException</pre>
<div class="block">Called when the peer closed the connection.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="handshakeComplete(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handshakeComplete</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;handshakeComplete&#8203;(java.lang.String&nbsp;protocol)</pre>
<div class="block">Called when SSL handshaking has completed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>protocol</code> - the application protocol negotiated (e.g., "h2", "http/1.1")</dd>
</dl>
</li>
</ul>
<a id="getCipherSuite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCipherSuite</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getCipherSuite()</pre>
<div class="block">Returns the cipher suite used for this secure connection.</div>
</li>
</ul>
<a id="getPeerCertificates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerCertificates</h4>
<pre class="methodSignature">public&nbsp;java.security.cert.Certificate[]&nbsp;getPeerCertificates()</pre>
<div class="block">Returns the peer certificates from the TLS handshake.</div>
</li>
</ul>
<a id="getKeySize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeySize</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getKeySize()</pre>
<div class="block">Returns the key size of the cipher suite.</div>
</li>
</ul>
<a id="getLocalSocketAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocalSocketAddress</h4>
<pre class="methodSignature">public&nbsp;java.net.SocketAddress&nbsp;getLocalSocketAddress()</pre>
<div class="block">Returns the local address of this connection.</div>
</li>
</ul>
<a id="getRemoteSocketAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoteSocketAddress</h4>
<pre class="methodSignature">public&nbsp;java.net.SocketAddress&nbsp;getRemoteSocketAddress()</pre>
<div class="block">Returns the remote address of this connection.</div>
</li>
</ul>
<a id="createConnectionInfo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createConnectionInfo</h4>
<pre class="methodSignature">protected&nbsp;<a href="ConnectionInfo.html" title="interface in org.bluezoo.gumdrop">ConnectionInfo</a>&nbsp;createConnectionInfo()</pre>
<div class="block">Creates a ConnectionInfo for this connection.
 
 <p>This is used by client connections to provide connection details
 to handlers.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the connection info</dd>
</dl>
</li>
</ul>
<a id="createTLSInfo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTLSInfo</h4>
<pre class="methodSignature">protected&nbsp;<a href="TLSInfo.html" title="interface in org.bluezoo.gumdrop">TLSInfo</a>&nbsp;createTLSInfo()</pre>
<div class="block">Creates a TLSInfo for this connection.
 
 <p>This is used by client connections to provide TLS details
 to handlers after a STARTTLS upgrade.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the TLS info, or null if not secure</dd>
</dl>
</li>
</ul>
<a id="onApplicationData(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onApplicationData</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;onApplicationData&#8203;(java.nio.ByteBuffer&nbsp;data)</pre>
<div class="block">Called by SSLState when decrypted application data is available.
 SSLState manages its own appIn buffer and handles underflow.</div>
</li>
</ul>
<a id="onHandshakeComplete(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onHandshakeComplete</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;onHandshakeComplete&#8203;(java.lang.String&nbsp;protocol)</pre>
<div class="block">Called by SSLState when TLS handshake completes.</div>
</li>
</ul>
<a id="onClosed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onClosed</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;onClosed()</pre>
<div class="block">Called by SSLState when TLS connection is closed.</div>
</li>
</ul>
<a id="getRemoteAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoteAddress</h4>
<pre class="methodSignature">public final&nbsp;java.lang.Object&nbsp;getRemoteAddress()</pre>
<div class="block">Returns the remote socket address for SSLState logging.</div>
</li>
</ul>
<a id="toString(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre class="methodSignature">protected static&nbsp;java.lang.String&nbsp;toString&#8203;(java.nio.ByteBuffer&nbsp;buf)</pre>
</li>
</ul>
<a id="toASCIIString(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toASCIIString</h4>
<pre class="methodSignature">protected static&nbsp;java.lang.String&nbsp;toASCIIString&#8203;(java.nio.ByteBuffer&nbsp;data)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Connection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Copyright &copy; 2005, 2025 Chris Burdess. Licensed under LGPL.</div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><small>Gumdrop is free software distributed under the GNU Lesser General Public License.</small></small></p>
</footer>
</body>
</html>
