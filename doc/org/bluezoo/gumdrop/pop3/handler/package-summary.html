<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sat Jan 10 08:58:12 GMT 2026 -->
<title>org.bluezoo.gumdrop.pop3.handler (Gumdrop API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2026-01-10">
<meta name="description" content="declaration: package: org.bluezoo.gumdrop.pop3.handler">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>Gumdrop</b></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Package:</p>
<ul>
<li><a href="#package-description">Description</a></li>
<li><a href="#related-package-summary">Related Packages</a></li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package org.bluezoo.gumdrop.pop3.handler" class="title">Package org.bluezoo.gumdrop.pop3.handler</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.bluezoo.gumdrop.pop3.handler</span></div>
<section class="package-description" id="package-description">
<div class="block">Handler interfaces for the POP3 server.

 <p>This package contains the staged handler interfaces that define the
 POP3 protocol flow for server-side implementations (RFC 1939).

 <h2 id="handler-pattern-overview-heading">Handler Pattern Overview</h2>

 <p>The POP3 handler pattern uses two types of interfaces:
 <ul>
   <li><strong>Handler interfaces</strong> - Receive events as callbacks.
       These are implemented by your handler class to make policy decisions
       about connection acceptance, authentication, and mailbox operations.</li>
   <li><strong>State interfaces</strong> - Provide response operations.
       These are implemented by POP3Connection and passed to your handler,
       constraining which responses are valid at each protocol stage.</li>
 </ul>

 <h2 id="protocol-flow-heading">Protocol Flow</h2>

 <p>POP3 has three states (RFC 1939 Section 3):
 <ol>
   <li><strong>AUTHORIZATION</strong> - Initial state, Realm handles authentication,
       handler makes policy decision on authenticated principal</li>
   <li><strong>TRANSACTION</strong> - Authenticated, can access and modify mailbox</li>
   <li><strong>UPDATE</strong> - After QUIT in TRANSACTION, commit deletions</li>
 </ol>

 <h2 id="handler-interfaces-heading">Handler Interfaces</h2>

 <ul>
   <li><a href="ClientConnected.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ClientConnected</code></a> - Entry point for new connections</li>
   <li><a href="AuthorizationHandler.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>AuthorizationHandler</code></a> - Receives authentication events for policy decisions</li>
   <li><a href="TransactionHandler.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>TransactionHandler</code></a> - Receives mailbox operations (status, retrieve, delete, etc.)</li>
 </ul>

 <h2 id="state-interfaces-heading">State Interfaces</h2>

 <ul>
   <li><a href="ConnectedState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ConnectedState</code></a> - Send greeting (accept/reject connection)</li>
   <li><a href="AuthenticateState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>AuthenticateState</code></a> - Accept/reject authenticated principal</li>
   <li><a href="MailboxStatusState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>MailboxStatusState</code></a> - Respond to mailbox status request (STAT)</li>
   <li><a href="ListState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ListState</code></a> - Respond to message listing request (LIST)</li>
   <li><a href="RetrieveState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>RetrieveState</code></a> - Respond to message retrieval request (RETR)</li>
   <li><a href="MarkDeletedState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>MarkDeletedState</code></a> - Respond to mark-deleted request (DELE)</li>
   <li><a href="ResetState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ResetState</code></a> - Respond to reset request (RSET)</li>
   <li><a href="TopState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>TopState</code></a> - Respond to TOP command</li>
   <li><a href="UidlState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>UidlState</code></a> - Respond to unique ID listing request (UIDL)</li>
   <li><a href="UpdateState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>UpdateState</code></a> - Respond to session end (QUIT in TRANSACTION)</li>
 </ul>

 <p>Note: Authentication protocol mechanics (USER/PASS, APOP, SASL) are
 handled internally by POP3Connection using the configured Realm. The handler
 only receives an authenticate event with the verified Principal, allowing it
 to make policy decisions without dealing with authentication details.

 <p>Similarly, CAPA, STLS, NOOP, and QUIT (in AUTHORIZATION state) are handled
 automatically by POP3Connection as they have standard responses.

 <h2 id="default-implementation-heading">Default Implementation</h2>

 <p>A default handler implementation is provided that accepts all connections
 and operations using the configured MailboxFactory:

 <ul>
   <li><a href="DefaultPOP3Handler.html" title="class in org.bluezoo.gumdrop.pop3.handler"><code>DefaultPOP3Handler</code></a> - Accepts all operations using the Mailbox API</li>
   <li><a href="DefaultPOP3HandlerFactory.html" title="class in org.bluezoo.gumdrop.pop3.handler"><code>DefaultPOP3HandlerFactory</code></a> - Factory for creating default handlers</li>
 </ul>

 <p>For many deployments, the default handler with appropriate Realm and
 MailboxFactory configuration is sufficient. Custom handlers can override
 specific methods to add policy logic.

 <h2 id="example-implementation-heading">Example Implementation</h2>

 <pre><code>
 public class SimplePOP3Handler implements ClientConnected, 
                                           AuthorizationHandler,
                                           TransactionHandler {
     
     public void connected(ConnectionInfo info, ConnectedState state) {
         state.acceptConnection("POP3 server ready", this);
     }
     
     public void authenticate(Principal principal, MailboxFactory factory,
                              AuthenticateState state) {
         // Policy check - is this user allowed?
         if (isAccountEnabled(principal)) {
             Mailbox mailbox = factory.openMailbox(principal.getName());
             state.accept(mailbox, this);
         } else {
             state.reject("Account disabled", this);
         }
     }
     
     public void retrieveMessage(Mailbox mailbox, int messageNumber, 
                                 RetrieveState state) {
         // ... retrieve and send message
     }
     
     public void markDeleted(Mailbox mailbox, int messageNumber,
                             MarkDeletedState state) {
         // ... mark message for deletion
     }
     
     // ... other handler methods
 }
 </code></pre></div>
<dl class="notes">
<dt>Author:</dt>
<dd><a href='mailto:dog@gnu.org'>Chris Burdess</a></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../POP3Connection.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Connection</code></a></li>
<li><a href="../POP3Server.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Server</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">org.bluezoo.gumdrop.pop3</a></div>
<div class="col-last even-row-color">
<div class="block">POP3 (Post Office Protocol version 3) server implementation.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel" aria-labelledby="class-summary-tab0">
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="AuthenticateState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">AuthenticateState</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to an authentication event.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="AuthorizationHandler.html" title="interface in org.bluezoo.gumdrop.pop3.handler">AuthorizationHandler</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Handler for POP3 AUTHORIZATION state.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="ClientConnected.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ClientConnected</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Entry point handler for new POP3 client connections.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="ClientConnectedFactory.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ClientConnectedFactory</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Factory for creating <a href="ClientConnected.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ClientConnected</code></a> handler instances.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="ConnectedState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ConnectedState</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Operations available immediately after a client connection is established.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="DefaultPOP3Handler.html" title="class in org.bluezoo.gumdrop.pop3.handler">DefaultPOP3Handler</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Default POP3 handler implementation that accepts all operations.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DefaultPOP3HandlerFactory.html" title="class in org.bluezoo.gumdrop.pop3.handler">DefaultPOP3HandlerFactory</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Factory that creates <a href="DefaultPOP3Handler.html" title="class in org.bluezoo.gumdrop.pop3.handler"><code>DefaultPOP3Handler</code></a> instances.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="ListState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ListState</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to a LIST command.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="ListState.ListWriter.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ListState.ListWriter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Writer for multi-line LIST response.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="MailboxStatusState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">MailboxStatusState</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to a mailbox status request.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="MarkDeletedState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">MarkDeletedState</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to a mark-deleted request.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="ResetState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ResetState</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to a reset request.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="RetrieveState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">RetrieveState</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to a message retrieval request.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="TopState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">TopState</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to a TOP command.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="TransactionHandler.html" title="interface in org.bluezoo.gumdrop.pop3.handler">TransactionHandler</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Handler for POP3 TRANSACTION state commands.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="UidlState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">UidlState</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to a UIDL command.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="UidlState.UidlWriter.html" title="interface in org.bluezoo.gumdrop.pop3.handler">UidlState.UidlWriter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Writer for multi-line UIDL response.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="UpdateState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">UpdateState</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Operations available when responding to QUIT in TRANSACTION state.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><small>Gumdrop is free software distributed under the GNU Lesser General Public License.</small></small></p>
</footer>
</div>
</div>
</body>
</html>
