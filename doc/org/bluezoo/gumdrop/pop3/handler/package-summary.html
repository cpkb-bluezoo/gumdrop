<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.29) on Sat Jan 03 18:19:09 GMT 2026 -->
<title>org.bluezoo.gumdrop.pop3.handler (Gumdrop API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2026-01-03">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.bluezoo.gumdrop.pop3.handler (Gumdrop API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Gumdrop</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.bluezoo.gumdrop.pop3.handler</h1>
</div>
<div class="contentContainer">
<section><a id="package.description">
<!--   -->
</a>
<div class="block">Handler interfaces for the POP3 server.

 <p>This package contains the staged handler interfaces that define the
 POP3 protocol flow for server-side implementations (RFC 1939).

 <h2>Handler Pattern Overview</h2>

 <p>The POP3 handler pattern uses two types of interfaces:
 <ul>
   <li><strong>Handler interfaces</strong> - Receive events as callbacks.
       These are implemented by your handler class to make policy decisions
       about connection acceptance, authentication, and mailbox operations.</li>
   <li><strong>State interfaces</strong> - Provide response operations.
       These are implemented by POP3Connection and passed to your handler,
       constraining which responses are valid at each protocol stage.</li>
 </ul>

 <h2>Protocol Flow</h2>

 <p>POP3 has three states (RFC 1939 Section 3):
 <ol>
   <li><strong>AUTHORIZATION</strong> - Initial state, Realm handles authentication,
       handler makes policy decision on authenticated principal</li>
   <li><strong>TRANSACTION</strong> - Authenticated, can access and modify mailbox</li>
   <li><strong>UPDATE</strong> - After QUIT in TRANSACTION, commit deletions</li>
 </ol>

 <h2>Handler Interfaces</h2>

 <ul>
   <li><a href="ClientConnected.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ClientConnected</code></a> - Entry point for new connections</li>
   <li><a href="AuthorizationHandler.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>AuthorizationHandler</code></a> - Receives authentication events for policy decisions</li>
   <li><a href="TransactionHandler.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>TransactionHandler</code></a> - Receives mailbox operations (status, retrieve, delete, etc.)</li>
 </ul>

 <h2>State Interfaces</h2>

 <ul>
   <li><a href="ConnectedState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ConnectedState</code></a> - Send greeting (accept/reject connection)</li>
   <li><a href="AuthenticateState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>AuthenticateState</code></a> - Accept/reject authenticated principal</li>
   <li><a href="MailboxStatusState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>MailboxStatusState</code></a> - Respond to mailbox status request (STAT)</li>
   <li><a href="ListState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ListState</code></a> - Respond to message listing request (LIST)</li>
   <li><a href="RetrieveState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>RetrieveState</code></a> - Respond to message retrieval request (RETR)</li>
   <li><a href="MarkDeletedState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>MarkDeletedState</code></a> - Respond to mark-deleted request (DELE)</li>
   <li><a href="ResetState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ResetState</code></a> - Respond to reset request (RSET)</li>
   <li><a href="TopState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>TopState</code></a> - Respond to TOP command</li>
   <li><a href="UidlState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>UidlState</code></a> - Respond to unique ID listing request (UIDL)</li>
   <li><a href="UpdateState.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>UpdateState</code></a> - Respond to session end (QUIT in TRANSACTION)</li>
 </ul>

 <p>Note: Authentication protocol mechanics (USER/PASS, APOP, SASL) are
 handled internally by POP3Connection using the configured Realm. The handler
 only receives an authenticate event with the verified Principal, allowing it
 to make policy decisions without dealing with authentication details.

 <p>Similarly, CAPA, STLS, NOOP, and QUIT (in AUTHORIZATION state) are handled
 automatically by POP3Connection as they have standard responses.

 <h2>Default Implementation</h2>

 <p>A default handler implementation is provided that accepts all connections
 and operations using the configured MailboxFactory:

 <ul>
   <li><a href="DefaultPOP3Handler.html" title="class in org.bluezoo.gumdrop.pop3.handler"><code>DefaultPOP3Handler</code></a> - Accepts all operations using the Mailbox API</li>
   <li><a href="DefaultPOP3HandlerFactory.html" title="class in org.bluezoo.gumdrop.pop3.handler"><code>DefaultPOP3HandlerFactory</code></a> - Factory for creating default handlers</li>
 </ul>

 <p>For many deployments, the default handler with appropriate Realm and
 MailboxFactory configuration is sufficient. Custom handlers can override
 specific methods to add policy logic.

 <h2>Example Implementation</h2>

 <pre><code>
 public class SimplePOP3Handler implements ClientConnected, 
                                           AuthorizationHandler,
                                           TransactionHandler {
     
     public void connected(ConnectionInfo info, ConnectedState state) {
         state.acceptConnection("POP3 server ready", this);
     }
     
     public void authenticate(Principal principal, MailboxFactory factory,
                              AuthenticateState state) {
         // Policy check - is this user allowed?
         if (isAccountEnabled(principal)) {
             Mailbox mailbox = factory.openMailbox(principal.getName());
             state.accept(mailbox, this);
         } else {
             state.reject("Account disabled", this);
         }
     }
     
     public void retrieveMessage(Mailbox mailbox, int messageNumber, 
                                 RetrieveState state) {
         // ... retrieve and send message
     }
     
     public void markDeleted(Mailbox mailbox, int messageNumber,
                             MarkDeletedState state) {
         // ... mark message for deletion
     }
     
     // ... other handler methods
 }
 </code></pre></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href='mailto:dog@gnu.org'>Chris Burdess</a></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../POP3Connection.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Connection</code></a>, 
<a href="../POP3Server.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Server</code></a></dd>
</dl>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="AuthenticateState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">AuthenticateState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to an authentication event.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="AuthorizationHandler.html" title="interface in org.bluezoo.gumdrop.pop3.handler">AuthorizationHandler</a></th>
<td class="colLast">
<div class="block">Handler for POP3 AUTHORIZATION state.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ClientConnected.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ClientConnected</a></th>
<td class="colLast">
<div class="block">Entry point handler for new POP3 client connections.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ClientConnectedFactory.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ClientConnectedFactory</a></th>
<td class="colLast">
<div class="block">Factory for creating <a href="ClientConnected.html" title="interface in org.bluezoo.gumdrop.pop3.handler"><code>ClientConnected</code></a> handler instances.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ConnectedState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ConnectedState</a></th>
<td class="colLast">
<div class="block">Operations available immediately after a client connection is established.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ListState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ListState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to a LIST command.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ListState.ListWriter.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ListState.ListWriter</a></th>
<td class="colLast">
<div class="block">Writer for multi-line LIST response.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="MailboxStatusState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">MailboxStatusState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to a mailbox status request.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="MarkDeletedState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">MarkDeletedState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to a mark-deleted request.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ResetState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">ResetState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to a reset request.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RetrieveState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">RetrieveState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to a message retrieval request.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="TopState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">TopState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to a TOP command.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="TransactionHandler.html" title="interface in org.bluezoo.gumdrop.pop3.handler">TransactionHandler</a></th>
<td class="colLast">
<div class="block">Handler for POP3 TRANSACTION state commands.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="UidlState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">UidlState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to a UIDL command.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="UidlState.UidlWriter.html" title="interface in org.bluezoo.gumdrop.pop3.handler">UidlState.UidlWriter</a></th>
<td class="colLast">
<div class="block">Writer for multi-line UIDL response.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="UpdateState.html" title="interface in org.bluezoo.gumdrop.pop3.handler">UpdateState</a></th>
<td class="colLast">
<div class="block">Operations available when responding to QUIT in TRANSACTION state.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="DefaultPOP3Handler.html" title="class in org.bluezoo.gumdrop.pop3.handler">DefaultPOP3Handler</a></th>
<td class="colLast">
<div class="block">Default POP3 handler implementation that accepts all operations.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="DefaultPOP3HandlerFactory.html" title="class in org.bluezoo.gumdrop.pop3.handler">DefaultPOP3HandlerFactory</a></th>
<td class="colLast">
<div class="block">Factory that creates <a href="DefaultPOP3Handler.html" title="class in org.bluezoo.gumdrop.pop3.handler"><code>DefaultPOP3Handler</code></a> instances.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Copyright &copy; 2005, 2025 Chris Burdess. Licensed under LGPL.</div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><small>Gumdrop is free software distributed under the GNU Lesser General Public License.</small></small></p>
</footer>
</body>
</html>
