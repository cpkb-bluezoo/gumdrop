<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sat Jan 10 08:58:12 GMT 2026 -->
<title>org.bluezoo.gumdrop.pop3 (Gumdrop API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2026-01-10">
<meta name="description" content="declaration: package: org.bluezoo.gumdrop.pop3">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>Gumdrop</b></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#package">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Package:</p>
<ul>
<li><a href="#package-description">Description</a></li>
<li><a href="#related-package-summary">Related Packages</a></li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package org.bluezoo.gumdrop.pop3" class="title">Package org.bluezoo.gumdrop.pop3</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.bluezoo.gumdrop.pop3</span></div>
<section class="package-description" id="package-description">
<div class="block">POP3 (Post Office Protocol version 3) server implementation.

 <p>This package provides a complete POP3 server implementation for the
 gumdrop multipurpose Java server framework. The POP3 server allows email
 clients to retrieve messages from mailboxes using the standard POP3 protocol
 as defined in RFC 1939, with support for modern extensions.

 <h2 id="architecture-heading">Architecture</h2>

 <h3 id="core-components-heading">Core Components</h3>
 <ul>
   <li><a href="POP3Server.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Server</code></a> - Server connector that listens for POP3 connections</li>
   <li><a href="POP3Connection.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Connection</code></a> - Connection handler implementing the POP3 protocol</li>
   <li><a href="POP3Exception.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Exception</code></a> - POP3-specific exceptions</li>
 </ul>

 <h3 id="mailbox-storage-heading">Mailbox Storage</h3>
 <p>The POP3 server uses the <a href="../mailbox/package-summary.html"><code>org.bluezoo.gumdrop.mailbox</code></a> package for
 mailbox storage, which provides a pluggable storage backend:
 <ul>
   <li><a href="../mailbox/Mailbox.html" title="interface in org.bluezoo.gumdrop.mailbox"><code>Mailbox</code></a> - Interface for accessing mailbox contents</li>
   <li><a href="../mailbox/MailboxFactory.html" title="interface in org.bluezoo.gumdrop.mailbox"><code>MailboxFactory</code></a> - Factory for creating mailbox instances</li>
   <li><a href="../mailbox/mbox/MboxMailbox.html" title="class in org.bluezoo.gumdrop.mailbox.mbox"><code>MboxMailbox</code></a> - Mbox file format implementation</li>
 </ul>

 <h2 id="supported-rfcs-heading">Supported RFCs</h2>
 <ul>
   <li><a href="https://www.rfc-editor.org/rfc/rfc1939">RFC 1939</a> - POP3 base protocol</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc1957">RFC 1957</a> - Implementation recommendations</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc2195">RFC 2195</a> - CRAM-MD5 authentication</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc2449">RFC 2449</a> - POP3 Extension Mechanism (CAPA command)</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc2595">RFC 2595</a> - TLS for POP3 (STLS command)</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc2831">RFC 2831</a> - DIGEST-MD5 authentication</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc4422">RFC 4422</a> - SASL EXTERNAL mechanism</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc4616">RFC 4616</a> - SASL PLAIN mechanism</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc4752">RFC 4752</a> - GSSAPI/Kerberos authentication</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc5034">RFC 5034</a> - SASL Authentication for POP3 (AUTH command)</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc5802">RFC 5802</a> - SCRAM mechanism</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc6816">RFC 6816</a> - UTF-8 support</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc7628">RFC 7628</a> - OAUTHBEARER SASL mechanism</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc7677">RFC 7677</a> - SCRAM-SHA-256 mechanism</li>
   <li><a href="https://www.rfc-editor.org/rfc/rfc8314">RFC 8314</a> - Require TLS for email access</li>
 </ul>

 <h2 id="supported-commands-heading">Supported Commands</h2>

 <h3 id="required-commands-rfc-1939--heading">Required Commands (RFC 1939)</h3>
 <ul>
   <li><code>USER</code> - Specify username for authentication</li>
   <li><code>PASS</code> - Provide password for authentication</li>
   <li><code>STAT</code> - Get mailbox statistics (count and size)</li>
   <li><code>LIST</code> - List messages with sizes</li>
   <li><code>RETR</code> - Retrieve a message</li>
   <li><code>DELE</code> - Mark a message for deletion</li>
   <li><code>NOOP</code> - No operation</li>
   <li><code>RSET</code> - Reset session (undelete all messages)</li>
   <li><code>QUIT</code> - End session and update mailbox</li>
 </ul>

 <h3 id="optional-commands-rfc-1939--heading">Optional Commands (RFC 1939)</h3>
 <ul>
   <li><code>APOP</code> - Challenge-response authentication</li>
   <li><code>TOP</code> - Retrieve message headers and N body lines</li>
   <li><code>UIDL</code> - Get unique message identifiers</li>
 </ul>

 <h3 id="extension-commands-rfc-2449-rfc-2595-rfc-5034-rfc-6816--heading">Extension Commands (RFC 2449, RFC 2595, RFC 5034, RFC 6816)</h3>
 <ul>
   <li><code>AUTH</code> - SASL authentication (PLAIN, LOGIN, CRAM-MD5, DIGEST-MD5,
       SCRAM-SHA-256, OAUTHBEARER, GSSAPI, EXTERNAL, NTLM)</li>
   <li><code>CAPA</code> - List server capabilities</li>
   <li><code>STLS</code> - Upgrade connection to TLS</li>
   <li><code>UTF8</code> - Enable UTF-8 mode</li>
 </ul>

 <h2 id="pop3-protocol-states-heading">POP3 Protocol States</h2>

 <h3 id="authorization-heading">AUTHORIZATION</h3>
 <p>Initial state after connection. Client must authenticate using:
 <ul>
   <li>USER/PASS commands, or</li>
   <li>APOP command (challenge-response), or</li>
   <li>AUTH command with SASL mechanism</li>
 </ul>

 <h3 id="transaction-heading">TRANSACTION</h3>
 <p>After successful authentication. Client can:
 <ul>
   <li>Retrieve messages (RETR, TOP)</li>
   <li>Mark messages for deletion (DELE)</li>
   <li>Get mailbox statistics (STAT, LIST, UIDL)</li>
   <li>Reset deletions (RSET)</li>
 </ul>

 <h3 id="update-heading">UPDATE</h3>
 <p>After QUIT command. Server:
 <ul>
   <li>Commits message deletions</li>
   <li>Releases mailbox lock</li>
   <li>Closes connection</li>
 </ul>

 <h2 id="security-features-heading">Security Features</h2>

 <h3 id="transport-security-heading">Transport Security</h3>
 <ul>
   <li><b>POP3S</b> - Implicit TLS on port 995 (secure=true)</li>
   <li><b>STARTTLS</b> - Upgrade to TLS via STLS command (secure=false with SSL context)</li>
 </ul>

 <h3 id="authentication-heading">Authentication</h3>
 <p>All authentication mechanisms use the standard Gumdrop
 <a href="../auth/Realm.html" title="interface in org.bluezoo.gumdrop.auth"><code>Realm</code></a> interface:

 <table border="1" cellpadding="5">
   <caption>Authentication Mechanisms</caption>
   <tr><th>Mechanism</th><th>Realm Method</th><th>RFC</th><th>Description</th></tr>
   <tr><td>USER/PASS</td><td><code>passwordMatch()</code></td><td>RFC 1939</td><td>Basic authentication</td></tr>
   <tr><td>APOP</td><td><code>getPassword()</code></td><td>RFC 1939</td><td>MD5 challenge-response</td></tr>
   <tr><td>AUTH PLAIN</td><td><code>passwordMatch()</code></td><td>RFC 4616</td><td>SASL PLAIN mechanism</td></tr>
   <tr><td>AUTH LOGIN</td><td><code>passwordMatch()</code></td><td>-</td><td>Legacy SASL LOGIN</td></tr>
   <tr><td>AUTH CRAM-MD5</td><td><code>getPassword()</code></td><td>RFC 2195</td><td>HMAC-MD5 challenge-response</td></tr>
   <tr><td>AUTH DIGEST-MD5</td><td><code>getDigestHA1()</code></td><td>RFC 2831</td><td>HTTP Digest-style auth</td></tr>
   <tr><td>AUTH SCRAM-SHA-256</td><td><code>getPassword()</code></td><td>RFC 7677</td><td>Salted challenge-response</td></tr>
   <tr><td>AUTH OAUTHBEARER</td><td><code>validateBearerToken()</code></td><td>RFC 7628</td><td>OAuth 2.0 Bearer tokens</td></tr>
   <tr><td>AUTH GSSAPI</td><td>SASL/Kerberos</td><td>RFC 4752</td><td>Enterprise SSO</td></tr>
   <tr><td>AUTH EXTERNAL</td><td>Certificate</td><td>RFC 4422</td><td>TLS client certificate</td></tr>
   <tr><td>AUTH NTLM</td><td><code>getPassword()</code></td><td>-</td><td>Windows domain auth</td></tr>
 </table>

 <h3 id="attack-mitigation-heading">Attack Mitigation</h3>
 <ul>
   <li>Login delay enforcement after failed authentication</li>
   <li>Session timeout protection</li>
   <li>Line length limits to prevent buffer overflow</li>
   <li>Mailbox locking to prevent concurrent access</li>
 </ul>

 <h2 id="configuration-example-heading">Configuration Example</h2>

 <pre><code>
 &lt;!-- POP3 with STARTTLS support (port 110) --&gt;
 &lt;server class="org.bluezoo.gumdrop.pop3.POP3Server" port="110"
     realm="myRealm"
     loginDelay="3000"
     enableAPOP="true"
     enableUTF8="true"
     keystoreFile="/path/to/keystore.p12"
     keystorePass="password"/&gt;

 &lt;!-- POP3S with implicit TLS (port 995) --&gt;
 &lt;server class="org.bluezoo.gumdrop.pop3.POP3Server" port="995"
     secure="true"
     realm="myRealm"
     keystoreFile="/path/to/keystore.p12"
     keystorePass="password"/&gt;
 </code></pre>

 <p>Note: The <code>mailboxFactory</code> must be configured programmatically or via a
 custom configuration extension, as the standard gumdroprc format uses
 attributes for simple properties only.

 <h2 id="creating-custom-mailbox-implementations-heading">Creating Custom Mailbox Implementations</h2>

 <p>To integrate with your own email storage system, implement the
 <a href="../mailbox/Mailbox.html" title="interface in org.bluezoo.gumdrop.mailbox"><code>Mailbox</code></a> interface:

 <pre>
 public class MyCustomMailbox implements Mailbox &#123;
     &#64;Override
     public void open(String username) throws IOException &#123;
         // Open mailbox for user
     &#125;

     &#64;Override
     public void close(boolean expunge) throws IOException &#123;
         // Close and optionally commit deletions
     &#125;

     &#64;Override
     public int getMessageCount() throws IOException &#123;
         // Return number of messages
     &#125;

     // ... implement other methods
 &#125;
 </pre>

 <p>Then create a <a href="../mailbox/MailboxFactory.html" title="interface in org.bluezoo.gumdrop.mailbox"><code>MailboxFactory</code></a>:

 <pre>
 public class MyCustomMailboxFactory implements MailboxFactory &#123;
     &#64;Override
     public Mailbox createMailbox() &#123;
         return new MyCustomMailbox();
     &#125;
 &#125;
 </pre>

 <h2 id="thread-safety-heading">Thread Safety</h2>
 <ul>
   <li>Each POP3 connection gets its own <a href="../mailbox/Mailbox.html" title="interface in org.bluezoo.gumdrop.mailbox"><code>Mailbox</code></a> instance</li>
   <li>Mailboxes use file locking to prevent concurrent access</li>
   <li>Connection handlers are thread-safe via synchronization</li>
 </ul></div>
<dl class="notes">
<dt>Author:</dt>
<dd><a href='mailto:dog@gnu.org'>Chris Burdess</a></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="POP3Server.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Server</code></a></li>
<li><a href="POP3Connection.html" title="class in org.bluezoo.gumdrop.pop3"><code>POP3Connection</code></a></li>
<li><a href="../mailbox/Mailbox.html" title="interface in org.bluezoo.gumdrop.mailbox"><code>Mailbox</code></a></li>
<li><a href="../mailbox/mbox/MboxMailbox.html" title="class in org.bluezoo.gumdrop.mailbox.mbox"><code>MboxMailbox</code></a></li>
<li><a href="../auth/Realm.html" title="interface in org.bluezoo.gumdrop.auth"><code>Realm</code></a></li>
<li><a href="https://www.rfc-editor.org/rfc/rfc1939">RFC 1939 - POP3</a></li>
<li><a href="https://www.rfc-editor.org/rfc/rfc5034">RFC 5034 - SASL for POP3</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">org.bluezoo.gumdrop</a></div>
<div class="col-last even-row-color">
<div class="block">Core framework for the Gumdrop multipurpose Java server.</div>
</div>
<div class="col-first odd-row-color"><a href="handler/package-summary.html">org.bluezoo.gumdrop.pop3.handler</a></div>
<div class="col-last odd-row-color">
<div class="block">Handler interfaces for the POP3 server.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab5" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab5', 2)" class="table-tab">Exception Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel" aria-labelledby="class-summary-tab0">
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="POP3Connection.html" title="class in org.bluezoo.gumdrop.pop3">POP3Connection</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Connection handler for the POP3 protocol.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab5"><a href="POP3Exception.html" title="class in org.bluezoo.gumdrop.pop3">POP3Exception</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab5">
<div class="block">Exception thrown for POP3 protocol errors.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="POP3Server.html" title="class in org.bluezoo.gumdrop.pop3">POP3Server</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Connection factory for POP3 connections on a given port.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="POP3ServerMetrics.html" title="class in org.bluezoo.gumdrop.pop3">POP3ServerMetrics</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">OpenTelemetry metrics for POP3 servers.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><small>Gumdrop is free software distributed under the GNU Lesser General Public License.</small></small></p>
</footer>
</div>
</div>
</body>
</html>
